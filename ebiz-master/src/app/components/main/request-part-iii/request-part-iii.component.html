<div class="box-contents">
    <h4 class="title-main"><i class="material-icons">
            perm_contact_calendar
        </i>
        PART III : APPROVAL</h4>

    <!-- Oversea -->
    <div class="row" [hidden]="model.type != 'oversea' && model.type != 'overseatraining'">
        <div class="col-lg-6 col-md-12">
            <div class="row margin-top">
                <div class="col-sm-4 col-6 title-type">Topic of Traveling :</div>
                <div class="col-sm-8 col-6">{{ model.topic }}</div>
            </div>
        </div>
        <div class="col-lg-6 col-md-12">
            <div class="row margin-top" [hidden]="true">
                <div class="col-sm-4 col-6">x</div>
                <div class="col-sm-8 col-6">x</div>
            </div>
        </div>
        <div class="col-lg-6 col-md-12">
            <div class="row margin-top">
                <div class="col-sm-4 col-6 title-type">Continent :</div>
                <div class="col-sm-8 col-6">{{ model.continent }}</div>
            </div>
        </div>
        <div class="col-lg-6 col-md-12">
            <div class="row margin-top">
                <div class="col-sm-4 col-6 title-type">Country / City :</div>
                <div class="col-sm-8 col-6">{{ model.country }}</div>
            </div>
        </div>
        <div class="col-lg-6 col-md-12">
            <div class="row margin-top">
                <div class="col-sm-4 col-6 title-type">Travel Date :</div>
                <div class="col-sm-8 col-6">{{ model.travel_date }}</div>
            </div>
        </div>
        <div class="col-lg-6 col-md-12">
            <div class="row margin-top">
                <div class="col-sm-4 col-6 title-type">Business Date :</div>
                <div class="col-sm-8 col-6">{{ model.business_date }}</div>
            </div>
        </div>
        <div class="col-lg-6 col-md-12">
            <div class="row margin-top">
                <div class="col-sm-4 col-6 title-type">Total Traveler(s) :</div>
                <div class="col-sm-8 col-6">{{ model.total_travel }}</div>
            </div>
        </div>

        <div class="col-lg-6 col-md-12">
            <div class="row margin-top">
                <div class="col-sm-4 col-6 title-type">Grand Total :</div>
                <div class="col-sm-8 col-6">{{ model.grand }}</div>
            </div>
        </div>
        <div class="col-lg-12 col-md-12">
            <div class="row margin-top">
                <div class="col-sm-2 col-6 title-type">Traveler List :</div>
                <div class="col-sm-10 col-6">
                    <p *ngFor="let item of model.traveler_list">{{ item.text }}</p>
                </div>
            </div>
        </div>

    </div>

    <!-- Local -->
    <div class="row" [hidden]="model.type != 'local' && model.type != 'localtraining'">
        <div class="col-lg-6 col-md-12">
            <div class="row margin-top">
                <div class="col-sm-4 col-6 title-type">Topic of Traveling :</div>
                <div class="col-sm-8 col-6">{{ model.topic }}</div>
            </div>
        </div>
        <div class="col-lg-6 col-md-12"></div>
        <div class="col-lg-6 col-md-12">
            <div class="row margin-top">
                <div class="col-sm-4 col-6 title-type">Province/City/Location :</div>
                <div class="col-sm-8 col-6">{{ model.province }}{{ model.country }}</div>
            </div>
        </div>
        <div class="col-lg-6 col-md-12">
            <div class="row margin-top" [hidden]="true">
                <div class="col-sm-4 col-6">x</div>
                <div class="col-sm-8 col-6">x</div>
            </div>
        </div>
        <div class="col-lg-6 col-md-12">
            <div class="row margin-top">
                <div class="col-sm-4 col-6 title-type">Business Date :</div>
                <div class="col-sm-8 col-6">{{ model.business_date }}</div>
            </div>
        </div>
        <div class="col-lg-6 col-md-12">
            <div class="row margin-top">
                <div class="col-sm-4 col-6 title-type">Total Traveler(s) :</div>
                <div class="col-sm-8 col-6">{{ model.total_travel }}</div>
            </div>
        </div>
        <div class="col-lg-6 col-md-12">
            <div class="row margin-top" [hidden]="true">
                <div class="col-sm-4 col-6">x</div>
                <div class="col-sm-8 col-6">x</div>
            </div>
        </div>
        <div class="col-lg-6 col-md-12">
            <div class="row margin-top">
                <div class="col-sm-4 col-6 title-type">Grand Total :</div>
                <div class="col-sm-8 col-6">{{ model.grand }}</div>
            </div>
        </div>
        <div class="col-lg-12 col-md-12">
            <div class="row margin-top">
                <div class="col-sm-2 col-6 title-type">Traveler List :</div>
                <div class="col-sm-10 col-6">
                    <p *ngFor="let item of model.traveler_list">{{ item.text }}</p>
                </div>
            </div>
        </div>

    </div>

    <!-- Summary Table -->
    <mat-expansion-panel class="margin-top margin-bottoms" [expanded]="panel.summary">
        <mat-expansion-panel-header (click)="panel.summary = !panel.summary">
            <mat-panel-title>
                <mat-icon class="material-icons">file_copy</mat-icon>
                <mat-panel-description class="margin-left">
                    Traveler List Summary
                </mat-panel-description>
            </mat-panel-title>
        </mat-expansion-panel-header>


        <div class="scroll-hori">
            <!-- Table Oversea -->
            <table class="table table-bordered table-striped"
                [hidden]="model.type != 'oversea' && model.type != 'overseatraining'">
                <thead>
                    <tr class="text-center">
                        <!-- <th>No.</th>
                        <th>Employee Name</th>
                        <th>Organization Unit</th>
                        <th>Country</th>
                        <th>Business Date</th>
                        <th>Travel Date</th>
                        <th>Total Expenses</th>
                        <th>Approver</th>
                        <th>Remark</th> -->
                        <th [style.maxWidth]="40 + 'px'" class="ml-0 mr-0 pl-0 pr-0 text-center">No.</th>
                        <th [style.minWidth]="260 + 'px'">Employee Name</th>
                        <th [style.minWidth]="140 + 'px'">Organization Unit</th>
                        <th [style.minWidth]="140 + 'px'">Country</th>
                        <th [style.minWidth]="220 + 'px'">Business Date</th>
                        <th [style.minWidth]="220 + 'px'">Travel Date</th>
                        <th [style.minWidth]="100 + 'px'">Total Expenses</th>
                        <th [style.minWidth]="260 + 'px'">Approver</th>
                        <th [style.minWidth]="200 + 'px'">Remark</th>
                        <th class="headcol">Option</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let item of model.traveler_list_summary ; index as i">
                        <td>
                            <div [hidden]="item.approve_status === '5'">{{ item.no }}</div>
                            <div [hidden]="item.approve_status != '5'"><span class="danger">{{ item.no }}</span>
                            </div>
                        </td>
                        <td>
                            <div [hidden]="item.approve_status === '5'">{{ item.emp_name }}</div>
                            <div [hidden]="item.approve_status != '5'"><span class="danger">{{ item.emp_name }}</span>
                            </div>
                        </td>
                        <td>
                            <div [hidden]="item.approve_status === '5'">{{ item.emp_unit }}</div>
                            <div [hidden]="item.approve_status != '5'"><span class="danger">{{ item.emp_unit }}</span>
                            </div>
                        </td>
                        <td>
                            <div [hidden]="item.approve_status === '5'">{{ item.country }}</div>
                            <div [hidden]="item.approve_status != '5'"><span class="danger">{{ item.country }}</span>
                            </div>
                        </td>
                        <td>
                            <div [hidden]="item.approve_status === '5'">{{ item.business_date }}</div>
                            <div [hidden]="item.approve_status != '5'"><span class="danger">{{ item.business_date }}</span>
                            </div>
                        </td>
                        <td>
                            <div [hidden]="item.approve_status === '5'">{{ item.traveler_date }}</div>
                            <div [hidden]="item.approve_status != '5'"><span class="danger">{{ item.traveler_date }}</span>
                            </div>
                        </td>
                        <td>
                            <div [hidden]="item.approve_status === '5'">{{ item.total_expenses | number : '1.2-2' }}</div>
                            <div [hidden]="item.approve_status != '5'"><span class="danger">{{ item.total_expenses | number : '1.2-2' }}</span>
                            </div>
                        </td>
                        <td>
                            <div [hidden]="item.approve_status === '5'">{{ item.appr_name }}</div>
                            <div [hidden]="item.approve_status != '5'"><span class="danger">{{ item.appr_name }}</span>
                            </div>
                        </td>
                        <td>
                            
                            <!-- <div [hidden]="item.approve_status != '2' && item.appr_status === false">{{ item.remark_opt}}
                            </div> -->
                            <div [hidden]="item.approve_status === '5' || item.approve_status === '4' || item.approve_status === '2'">{{ item.appr_remark}}
                            </div>
                            <div [hidden]="item.approve_status != '5'"><span class="danger">{{ item.remark_opt }}</span>
                            </div>
                            <div [hidden]="item.approve_status != '4'"><span class="danger">{{ item.approve_remark
                                    }}</span>
                            </div>
                        </td>
                        <td class="text-center headcol">
                            <!-- <a [hidden]="item.appr_status == ''"><i
                                    class="icon-colors {{ item.appr_status == 'true' ? 'ft-check green' : 'ft-x red'}}"
                                    (click)="handleActionSummary(item.appr_status, i)"></i></a> -->
                            <div
                                [hidden]="item.approve_status === '5' || item.approve_status === '4' || item.approve_status === '3' || item.approve_status === '6'">
                                <a [hidden]="item.appr_status == ''"><i
                                        class="icon-colors {{ item.appr_status == 'true' ? 'ft-check green' : 'ft-x red'}}"
                                        (click)="handleActionSummary(item.appr_status, i)"></i></a>
                                <div [hidden]="item.appr_status != '' && item.approve_status === '2'">
                                    <!-- <div class="badgeX badge-blueX "></div> -->
                                    <span class="">Pending</span>
                                </div>
                            </div>
                            <div [hidden]="item.approve_status != '5'">
                                <!-- <div class="badgeX badge-dangerX cursor-pointer" matTooltip="Show details"
                                    (click)="showRemarkFlow(item.approve_remark)"></div> -->
                                    <span class="">Reject</span>
                            </div>
                            <div [hidden]="item.approve_status != '4'">
                                <!-- <div class="badgeX badge-warningX cursor-pointer" matTooltip="Show details"
                                    (click)="showRemarkFlow(item.approve_remark)"></div> -->
                                    <span class="">Revise</span>
                            </div>
                            <div [hidden]="item.approve_status != '3'">
                                <!-- <div class="badgeX badge-successX"></div> -->
                                <span class="">Approved</span>
                            </div>
                            <div [hidden]="item.approve_status != '6'">
                                <span class="">Reject.</span>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>

            <!-- Table Local -->
            <table class="table table-bordered table-striped"
                [hidden]="model.type != 'local' && model.type != 'localtraining'">
                <thead>
                    <tr class="text-center">
                        <!-- <th>No.</th>
                        <th>Employee Name</th>
                        <th>Organization Unit</th>
                        <th>Approver</th>
                        <th>Remark</th> -->
                        <th [style.maxWidth]="40 + 'px'" class="ml-0 mr-0 pl-0 pr-0 text-center">No.</th>
                        <th [style.minWidth]="260 + 'px'">Employee Name</th>
                        <th [style.minWidth]="140 + 'px'">Organization Unit</th>
                        <th [style.minWidth]="140 + 'px'">Province</th>
                        <th [style.minWidth]="220 + 'px'">Business Date</th>
                        <th [style.minWidth]="220 + 'px'">Travel Date</th>
                        <th [style.minWidth]="100 + 'px'">Total Expenses</th>
                        <th [style.minWidth]="260 + 'px'">Approver</th>
                        <th [style.minWidth]="200 + 'px'">Remark</th>
                        <th class="headcol">Option</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let item of model.traveler_list_summary ; index as i">
                        <!-- [ngClass]="{' tx-gray-500':item.approve_status === '5' && item.appr_status != ''}" -->
                        <td>
                            <div [hidden]="item.approve_status === '5'">{{ item.no }}</div>
                            <div [hidden]="item.approve_status != '5'"><span class="danger">{{ item.no }}</span>
                            </div>
                        </td>
                        <td>
                            <div [hidden]="item.approve_status === '5'">{{ item.emp_name }}</div>
                            <div [hidden]="item.approve_status != '5'"><span class="danger">{{ item.emp_name }}</span>
                            </div>
                            <!-- {{ item.emp_name }} -->
                        </td>
                        <td>
                            <div [hidden]="item.approve_status === '5'">{{ item.emp_unit }}</div>
                            <div [hidden]="item.approve_status != '5'"><span class="danger">{{ item.emp_unit }}</span>
                            </div>
                            <!-- {{ item.emp_unit }} -->
                        </td>
                        <td>
                            <div [hidden]="item.approve_status === '5'">{{ item.province }}</div>
                            <div [hidden]="item.approve_status != '5'"><span class="danger">{{ item.province }}</span>
                            </div>
                        </td>
                        <td>
                            <div [hidden]="item.approve_status === '5'">{{ item.business_date }}</div>
                            <div [hidden]="item.approve_status != '5'"><span class="danger">{{ item.business_date }}</span>
                            </div>
                        </td>
                        <td>
                            <div [hidden]="item.approve_status === '5'">{{ item.traveler_date }}</div>
                            <div [hidden]="item.approve_status != '5'"><span class="danger">{{ item.traveler_date }}</span>
                            </div>
                        </td>
                        <td>
                            <div [hidden]="item.approve_status === '5'">{{ item.total_expenses | number : '1.2-2' }}</div>
                            <div [hidden]="item.approve_status != '5'"><span class="danger">{{ item.total_expenses | number : '1.2-2' }}</span>
                            </div>
                        </td>
                        <td>
                            <div [hidden]="item.approve_status === '5'">{{ item.appr_name }}</div>
                            <div [hidden]="item.approve_status != '5'"><span class="danger">{{ item.appr_name }}</span>
                            </div>
                            <!-- {{ item.appr_name }} -->
                        </td>
                        <td>
                            <!-- <div [hidden]="item.approve_status != '2' && item.appr_status === false">{{ item.remark_opt}}
                            </div> -->
                            <div [hidden]="item.approve_status === '5' || item.approve_status === '4' || item.approve_status === '2'">{{ item.appr_remark}}
                            </div>
                            <!-- <div [hidden]="item.approve_status === '5' || item.approve_status === '4'">{{ item.remark }}
                            </div> -->
                            <div [hidden]="item.approve_status != '5'"><span class="danger">{{ item.remark_opt }}</span>
                            </div>
                            <div [hidden]="item.approve_status != '4'"><span class="danger">{{ item.approve_remark
                                    }}</span>
                            </div>
                            <!-- <div [hidden]="item.approve_status === '5'">{{ item.appr_remark }}</div>
                            <div [hidden]="item.approve_status != '5'">{{ item.remark_opt }}</div> -->
                            <!-- {{ item.appr_remark }} -->
                        </td>
                        <td class="text-center headcol">
                            <div
                                [hidden]="item.approve_status === '5' || item.approve_status === '4' || item.approve_status === '3' || item.approve_status === '6'">
                                <a [hidden]="item.appr_status == ''"><i
                                        class="icon-colors {{ item.appr_status == 'true' ? 'ft-check green' : 'ft-x red'}}"
                                        (click)="handleActionSummary(item.appr_status, i)"></i></a>
                                <div [hidden]="item.appr_status != '' && item.approve_status === '2'">
                                    <!-- <div class="badgeX badge-blueX"></div> -->
                                    <span class="">Pending</span>
                                </div>
                            </div>
                            <div [hidden]="item.approve_status != '5'">
                                <!-- <div class="badgeX badge-dangerX cursor-pointer" matTooltip="Show details"
                                    (click)="showRemarkFlow(item.approve_remark)"></div> -->
                                    <span class="">Reject</span>
                            </div>
                            <div [hidden]="item.approve_status != '4'">
                                <!-- <div class="badgeX badge-warningX cursor-pointer" matTooltip="Show details"
                                    (click)="showRemarkFlow(item.approve_remark)"></div> -->
                                    <span class="">Revise</span>
                            </div>
                            <div [hidden]="item.approve_status != '3'">
                                <!-- <div class="badgeX badge-successX"></div> -->
                                <span class="">Approved</span>
                            </div>
                            <div [hidden]="item.approve_status != '6'">
                                <span class="">Reject.</span>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

    </mat-expansion-panel>

    <br>
    <div class="row margin-top margin-bottoms">
        <div class="col-xl-12 col-lg-12 col-md-12 mb-1">
            <fieldset class="form-group">
                <input type="checkbox" id="input-111" [(ngModel)]="model.bugget" value="true" [disabled]="!buttons.save && !buttons.approve">
                <label for="input-111" style="margin-left: 3px;" class="sub-title-input-layer">Budget is
                    allocated.</label>
            </fieldset>
        </div>
        <div class="col-xl-12 col-lg-12 col-md-12 mb-1">
            <fieldset class="form-group">
                <input type="checkbox" id="input-121" [(ngModel)]="model.shall" value="true" [disabled]="!buttons.save && !buttons.approve">
                <label for="input-121" style="margin-left: 3px;" class="sub-title-input-layer">Shall seek budget
                    approval from CEO.</label>
            </fieldset>
        </div>
    </div>

    <mat-expansion-panel class="margin-bottoms" [expanded]="panel.after">
        <mat-expansion-panel-header (click)="panel.after = !panel.after">
            <mat-panel-title>
                <mat-icon class="material-icons">list_alt</mat-icon>
                <mat-panel-description class="margin-left oneline"> After business trip completed is completed
                </mat-panel-description>
            </mat-panel-title>
        </mat-expansion-panel-header>


        <div class="row margin-bottoms">
            <div class="col-xl-12 col-lg-12 col-md-12 mb-1">
                <fieldset class="form-group">
                    <label>
                        <input type="checkbox" id="input-11" value="true" [(ngModel)]="model.after.ck1" [disabled]="!buttons.save && !buttons.approve">
                        <span for="input-11" style="margin-left: 3px;" class="sub-title-input-layer">Submit a report to
                            line manager within 30 days after the trip is completed.</span>
                    </label>
                </fieldset>
            </div>
            <div class="col-xl-12 col-lg-12 col-md-12 mb-1">
                <fieldset class="form-group">
                    <label>
                        <input type="checkbox" id="input-12" value="true" [(ngModel)]="model.after.ck2.value" [disabled]="!buttons.save && !buttons.approve">
                        <span for="input-12" style="margin-left: 3px;" class="sub-title-input-layer">Share knowledge to
                            concerned person using methods.</span></label>

                    <input type="search" [(ngModel)]="model.after.ck2.remark" [disabled]="!buttons.save && !buttons.approve"
                        style="width: 100%; border: 0px; border-bottom: 1px solid silver;" placeholder="more....">
                </fieldset>
            </div>
            <div class="col-xl-12 col-lg-12 col-md-12 mb-1">
                <fieldset class="form-group">
                    <label>
                        <input type="checkbox" id="input-13" value="true" [(ngModel)]="model.after.ck3.value" [disabled]="!buttons.save && !buttons.approve">
                        <span for="input-13" style="margin-left: 3px;"
                            class="sub-title-input-layer">Others.</span></label>

                    <input type="search" [(ngModel)]="model.after.ck3.remark" [disabled]="!buttons.save && !buttons.approve"
                        style="width: 100%; border: 0px; border-bottom: 1px solid silver;" placeholder="more....">
                </fieldset>
            </div>
        </div>

    </mat-expansion-panel>

    <div class="row">
        <div class="col-xl-2 col-lg-2 col-md-2 col-sm-3 mb-1">
            <button (click)="handleActionPages(stateGlobal.save)" type="submit"
                class="btn-in-pink {{ buttons.save ? '' : 'oc'}}">Save</button>
        </div>
        <div class="col-xl-2 col-lg-2 col-md-2 col-sm-3 mb-1">
            <button (click)="handleActionPages(stateGlobal.cancel)" type="submit"
                class="btn-out-pink {{ buttons.cancel ? '' : 'oc'}}">Cancel</button>
        </div>
        <div class="col-xl-2 col-lg-2 col-md-2 col-sm-3 mb-1"></div>
        <div class="col-xl-2 col-lg-2 col-md-2 col-sm-3 mb-1">
            <button (click)="handleActionPages(stateGlobal.reject)" type="submit"
                class="btn-out-dark-blue {{ buttons.reject ? '' : 'oc'}}">Reject</button>
        </div>
        <div class="col-xl-2 col-lg-2 col-md-2 col-sm-3 mb-1">
            <button (click)="handleActionPages(stateGlobal.revise)" type="submit"
                class="btn-out-dark-blue {{ buttons.revise ? '' : 'oc'}}">Revise</button>
        </div>
        <div class="col-xl-2 col-lg-2 col-md-2 col-sm-3 mb-1">
            <button (click)="handleActionPages(stateGlobal.approve)" type="submit"
                class="btn-in-dark-blue {{ buttons.approve ? '' : 'oc'}}">{{model.button_display}}</button>
        </div>
    </div>
</div>